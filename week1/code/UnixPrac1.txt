# Author: Vitor Ferreira f.ferreira@imperial.ac.uk
# Script: UniPrac1.txt
# Description: Shell commands to solve the FASTA exercises 
# Arguments: none
# Date: Oct 2022

Below are the commands to solve 4 questions from Practical 1 on fasta files found in the Data/Fasta directory


#1 Count how many lines there are in each file
wc -l ../data/fasta/E.coli.fasta && wc -l ../data/fasta/407228412.fasta && wc -l ../data/fasta/407228326.fasta


#2 Print everything starting from the second line for the E.coli genome
tail -n +2 ../data/fasta/E.coli.fasta


#3 Count the genome sequence lenght of this genome
tail -n +2 ../data/fasta/E.coli.fasta | wc -m


#4 Count the matches of a particular sequence "ATGC" in the genome of E.coli
tail -n +2 ../data/fasta/E.coli.fasta | tr -d "\n" | grep -Fo "ATGC" | wc -l

#5 Compute the AT/GC ratio of E.coli genome
AT=$(tail -n +2 ../data/fasta/E.coli.fasta | tr -d "\n" | grep -o [A,T] | wc -l) && 
GC=$(tail -n +2 ../data/fasta/E.coli.fasta | tr -d "\n" | grep -o [G,C] | wc -l) &&
echo "scale=3;$AT/$GC" | bc

##### Alternative ####
AT=$(grep -o [A,T] ../data/fasta/E.coli.fasta | wc -l) &&  
GC=$(grep -o [G,C] ../data/fasta/E.coli.fasta | wc -l) && 
ratio=$(echo "scale=3;$AT/$GC" | bc) && 
echo -e "\nThe proportional content of AT/GC in E.coli genome it is: $ratio.\n"


*** BASH Challenge Command ***
find . -type f -exec ls -s {} \; | sort -n | head -10

# The first chunk of the code invokes the find function in current directory
# for type of regular files and execute a list of these by size.
# After this are sorted in numeric order and displayed the first 10 files.